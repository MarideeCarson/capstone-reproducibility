/*!CK:1098171798!*//*1460491848,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["pfDEZ"]); }

__d('legacy:dom',['DOM'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.DOM=c('DOM');},3);
__d('GamesImageSlideshow.react',['cx','Animation','Image.react','React','ReactDOM','TimeSlice'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=1500,k=250,l=c('React').createClass({displayName:'GamesImageSlideshow',getInitialState:function(){return {previous:0,active:0};},propTypes:{image_urls:i.array.isRequired,height:i.number.isRequired,width:i.number.isRequired,autoplay:i.bool},getDefaultProps:function(){return {autoplay:false};},componentDidMount:function(){if(this.props.autoplay)this.timeout=setTimeout(this._startSlideshow,j);},componentWillUnmount:function(){this._clearInterval();},_startSlideshow:function(){if(this.running)return;this.running=true;var m=function(){var n=(this.state.active+1)%this.props.image_urls.length,o=this.props.image_urls[n],p=new Image(),q=function(){if(!this.running)return;this._switchImage(n);this.interval=setTimeout(m,j);}.bind(this);p.onload=c('TimeSlice').guard(q,'GamesImageSlideshow image.onload');p.src=o;}.bind(this);m();},_switchImage:function(m){this.setState({previous:this.state.active,active:m},this._fadeImage);},_fadeImage:function(){if(this.state.active!==this.state.previous){var m=c('ReactDOM').findDOMNode(this.refs[this.state.previous]),n=c('ReactDOM').findDOMNode(this.refs[this.state.active]);this.anims=[new (c('Animation'))(m).from('opacity',1).to('opacity',0).duration(k).go(),new (c('Animation'))(n).from('opacity',0).to('opacity',1).duration(k).go()];}},_clearInterval:function(){if(this.interval){clearTimeout(this.interval);this.interval=null;}},_stopSlideshow:function(){this.running=false;this._clearInterval();if(this.anims)this.anims.map(function(m){m.stop();});this._switchImage(0);},_createImage:function(m){return c('React').createElement(c('Image.react'),{ref:m,key:m,src:this.props.image_urls[m]});},_getCurrentImages:function(){var m=this.state.previous,n=this.state.active;if(m===n){return [this._createImage(m)];}else return [this._createImage(m),this._createImage(n)];},render:function(){return (c('React').createElement('div',{style:{height:this.props.height+'px',width:this.props.width+'px'},onMouseEnter:!this.props.autoplay?this._startSlideshow:null,onMouseLeave:!this.props.autoplay?this._stopSlideshow:null,className:"_4x1w"},this._getCurrentImages()));}});f.exports=l;},null);