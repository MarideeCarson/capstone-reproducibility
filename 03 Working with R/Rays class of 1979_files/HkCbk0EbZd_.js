/*!CK:3013764140!*//*1460523440,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["K5DpM"]); }

__d('P2PMemoPhotoUploadPreview.react',['cx','BackgroundImage.react','CurrentEnvironment','P2PLoadingMask.react','React','XUICloseButton.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PMemoPhotoUploadPreview',propTypes:{attachedPhoto:i.object,photoUploading:i.bool,onRemoveButtonClick:i.func},renderAttachedPhotoPreviewContent:function(){var k=this.props.attachedPhoto;if(!k||!k.url)return null;var l=c('CurrentEnvironment').messengerdotcom?286:260;return (c('React').createElement(c('BackgroundImage.react'),{backgroundSize:'cover',height:120,src:k.url,width:l}));},render:function(){var k=this.props.attachedPhoto;if(!this.props.photoUploading&&!k)return null;return (c('React').createElement('div',{className:"_y37"},this.renderAttachedPhotoPreviewContent(),c('React').createElement(c('P2PLoadingMask.react'),{visible:this.props.photoUploading}),c('React').createElement(c('XUICloseButton.react'),{className:"_y38",onClick:this.props.onRemoveButtonClick,shade:'light',size:'medium'})));}});f.exports=j;},null);
__d('P2PMemoPhotoUploadSelector.react',['cx','fbt','FileInput','FileInputUploader','React','ReactDOM'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k='/ajax/payments/p2p/memo_photo_upload/',l=1,m=29,n=c('React').createClass({displayName:'P2PMemoPhotoUploadSelector',propTypes:{attachedPhoto:j.object,isUploading:j.bool,onPhotoUploadComplete:j.func.isRequired,onPhotoUploadStart:j.func.isRequired},fileInput:null,_fileInputSubscription:null,componentDidMount:function(){var o=c('ReactDOM').findDOMNode(this.refs.PhotoInputContainer),p=c('ReactDOM').findDOMNode(this.refs.PhotoInputControl),q=c('ReactDOM').findDOMNode(this.refs.PhotoInput);this.fileInput=new (c('FileInput'))(o,p,q);this._fileInputSubscription=this.fileInput.subscribe('change',this.handleFileInputChange);},componentWillUnmount:function(){this._fileInputSubscription&&this._fileInputSubscription.unsubscribe();},handleFileInputChange:function(){if(this.fileInput&&this.fileInput.getValue()){var o=new (c('FileInputUploader'))(this.fileInput.getInput()).setAllowCrossPageTransition(true).setURI(k);o.subscribe(['success','failure'],function(p,q){this.props.onPhotoUploadComplete(q.response);}.bind(this));o.setData({profile_id:l,source:m}).send();this.props.onPhotoUploadStart();}},render:function(){var o=i._("Add Photo");return (c('React').createElement('div',{'aria-label':o,className:"_m"+(' '+"_3h1u")+(this.props.photoUploading||this.props.attachedPhoto?' '+"_3h1v":''),ref:'PhotoInputContainer'},c('React').createElement('i',{className:"_3h1w",ref:'PhotoInputControl'},c('React').createElement('input',{accept:'image/*',className:"_n",name:'file',ref:'PhotoInput',title:o,type:'file'}))));}});f.exports=n;},null);
__d('P2PMemoField.react',['cx','fbt','ix','CurrentEnvironment','Image.react','P2PGKValues','P2PMemoPhotoUploadPreview.react','P2PMemoPhotoUploadSelector.react','React'],function a(b,c,d,e,f,g,h,i,j){'use strict';if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes,l=c('React').createClass({displayName:'P2PMemoField',propTypes:{defaultValue:k.string,disabled:k.bool,isRequesting:k.bool,onTextChange:k.func.isRequired,onPhotoChange:k.func.isRequired,onPhotoUploadingChange:k.func.isRequired},getInitialState:function(){return {attachedPhoto:null,defaultValue:'',disabled:false,focused:false,isRequesting:false,photoUploading:false};},handleChangeText:function(m){this.props.onTextChange(m.target.value);},handleImageClick:function(){this.refs.input.focus();},handleFocus:function(){this.setState({focused:true});},handleBlur:function(){this.setState({focused:false});},handlePhotoUploadStart:function(){this.setState({photoUploading:true});this.props.onPhotoUploadingChange(true);},handlePhotoUploadComplete:function(m){var n=m.payload||null;this.setState({attachedPhoto:n,photoUploading:false});this.props.onPhotoChange(n?[n.fbid]:[]);this.props.onPhotoUploadingChange(false);},handlePhotoRemove:function(){this.setState({attachedPhoto:null,photoUploading:false});this.props.onPhotoChange([]);this.props.onPhotoUploadingChange(false);},getImageSrc:function(){var m=c('CurrentEnvironment').messengerdotcom;if(this.state.focused){if(m){return j('/images/p2p/memo-pencil-messenger-blue.png');}else return j('/images/p2p/memo-pencil-www-blue.png');}else if(m){return j('/images/p2p/memo-pencil-messenger-gray.png');}else return j('/images/p2p/memo-pencil-www-gray.png');},getPlaceholder:function(){if(this.props.isRequesting)return i._("What is this request for?");return i._("What is this payment for?");},shouldRenderPhotoMemo:function(){return c('P2PGKValues').P2PWWWMemoPhotoEnabled&&!this.props.isRequesting;},renderPhotoUploadSelector:function(){if(!this.shouldRenderPhotoMemo())return null;return (c('React').createElement('div',{className:"_1-j-"},c('React').createElement(c('P2PMemoPhotoUploadSelector.react'),{attachedPhoto:this.state.attachedPhoto,photoUploading:this.state.photoUploading,onPhotoUploadComplete:this.handlePhotoUploadComplete,onPhotoUploadStart:this.handlePhotoUploadStart})));},renderPhotoUploadPreview:function(){if(!this.shouldRenderPhotoMemo())return null;return (c('React').createElement(c('P2PMemoPhotoUploadPreview.react'),{attachedPhoto:this.state.attachedPhoto,photoUploading:this.state.photoUploading,onRemoveButtonClick:this.handlePhotoRemove}));},render:function(){return (c('React').createElement('div',{className:"_2z8p"},c('React').createElement('div',{className:"_1-j_"},c('React').createElement(c('Image.react'),{className:"_2z8q",height:12,onClick:this.handleImageClick,src:this.getImageSrc(),width:12}),c('React').createElement('input',{className:"_2z8r",defaultValue:this.props.defaultValue,disabled:this.props.disabled,maxLength:36,onChange:this.handleChangeText,onBlur:this.handleBlur,onFocus:this.handleFocus,placeholder:this.getPlaceholder(),ref:'input'}),this.renderPhotoUploadSelector()),this.renderPhotoUploadPreview()));}});f.exports=l;},null);
__d('P2PMemoText.react',['cx','fbt','P2PText.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PMemoText',propTypes:{memoText:j.string.isRequired},render:function(){return (c('React').createElement('div',{className:"_4myt"},c('React').createElement(c('P2PText.react'),{display:'inline',type:'primary',weight:'bold'},i._("For: {Memo description}",[i.param('Memo description',c('React').createElement(c('P2PText.react'),{display:'inline',type:'secondary',weight:'normal'},this.props.memoText))]))));}});f.exports=k;},null);
__d('P2PSendMoneyDialogActionHeader.react',['cx','fbt','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'P2PSendMoneyDialogActionHeader',propTypes:{onPayClick:j.func.isRequired,onRequestClick:j.func.isRequired,isPaying:j.bool,isRequesting:j.bool},render:function(){var l=this.props.isPaying,m=this.props.isRequesting;return (c('React').createElement('div',{className:"_50cr"+(l?' '+"_50cv":'')+(m?' '+"_50cw":'')},c('React').createElement('div',{className:"_50cx"+(l?' '+"_50cy":''),onClick:function(){this.props.onPayClick();}.bind(this)},i._("Pay")),c('React').createElement('div',{className:"_50cx"+(m?' '+"_50cy":''),onClick:function(){this.props.onRequestClick();}.bind(this)},i._("Request")),c('React').createElement('div',{className:"_50c_"})));}});f.exports=k;},null);
__d('P2PSendMoneySuccessDialog.react',['fbt','Link.react','React','P2PLinkConstants','P2PSuccessDialog.react','P2PText.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PSendMoneySuccessDialog',propTypes:{onClose:i.func.isRequired},render:function(){return (c('React').createElement(c('P2PSuccessDialog.react'),{onOKClick:this.props.onClose,title:h._("Payment Sent")},c('React').createElement(c('P2PText.react'),{type:'primary'},h._("When you receive money, it will go on this card too. You can update your card in {Link with text that goes to settings page}.",[h.param('Link with text that goes to settings page',c('React').createElement(c('Link.react'),{target:'_blank',href:c('P2PLinkConstants').settingsWWWURI},h._("Payments Settings")))]))));}});f.exports=j;},null);
__d('P2PUnderManualReviewDialog.react',['fbt','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PText.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PUnderManualReviewDialog',propTypes:{onClose:i.func.isRequired},render:function(){return (c('React').createElement(c('P2PDialog.react'),{layerHideOnBlur:false,shown:true,width:300},c('React').createElement(c('P2PDialogTitle.react'),{showCloseButton:false},h._("Reviewing Payment Info")),c('React').createElement(c('P2PDialogBody.react'),null,c('React').createElement(c('P2PText.react'),{type:'primary'},h._("For your security, this payment is in review for up to 24 hours. When it's confirmed, it will go through."))),c('React').createElement(c('P2PDialogFooter.react'),null,c('React').createElement(c('P2PButton.react'),{label:h._("OK"),onClick:this.props.onClose,use:'confirm'}))));}});f.exports=j;},null);
__d('P2PUserEligibilityContainer.react',['immutable','P2PUserEligibilityStore','React','StoreAndPropBasedStateMixin'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'P2PUserEligibilityContainer',propTypes:{participants:h.instanceOf(c('immutable').List)},mixins:[c('StoreAndPropBasedStateMixin')(c('P2PUserEligibilityStore'))],statics:{calculateState:function(j){var k=j.participants,l,m;if(k){m=k.map(function(n){return n.userID;}).toArray();l=c('P2PUserEligibilityStore').getEligibilityByUserIDs(m);}return {p2pEligibilities:l};}},render:function(){var j=c('React').Children.only(this.props.children);return c('React').cloneElement(j,{p2pEligibilities:this.state.p2pEligibilities});}});f.exports=i;},null);
__d('P2PNUXFooter.react',['cx','LeftRight.react','P2PEncryptedText.react','P2PNUXNextButton.react','React'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PNUXFooter',propTypes:{onNextClick:i.func.isRequired},render:function(){return (c('React').createElement(c('LeftRight.react'),null,c('React').createElement('div',{className:"_2pic"},c('React').createElement(c('P2PEncryptedText.react'),null)),c('React').createElement(c('P2PNUXNextButton.react'),{onNextClick:this.props.onNextClick})));}});f.exports=j;},null);
__d('P2PSendMoneyNUXTitle.react',['cx','fbt','P2PSendMoneyNUXTitleText.react','P2PText.react','React'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=c('React').createClass({displayName:'P2PSendMoneyNUXTitle',render:function(){return (c('React').createElement('div',{className:"_4fz1"},c('React').createElement(c('P2PText.react'),{size:'medium',type:'primary'},c('React').createElement(c('P2PSendMoneyNUXTitleText.react'),null)),c('React').createElement(c('P2PText.react'),{type:'secondary'},i._("Split dinner, pay rent or anything else"))));}});f.exports=j;},null);
__d('P2PSendMoneyNUXContextualDialog.react',['cx','CurrentEnvironment','MessengerContextualDialog.react','P2PLogger','P2PNUXFooter.react','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PSendMoneyNUXListItems.react','P2PSendMoneyNUXTitle.react','React','XUIContextualDialog.react'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PSendMoneyNUXContextualDialog',propTypes:{loggingData:i.object,onNextClick:i.func.isRequired,onToggle:i.func.isRequired,width:i.number},getDefaultProps:function(){var k=c('CurrentEnvironment').messengerdotcom;return {flyoutAlignment:k?'right':'left',position:'above',width:k?286:260};},log:function(k,l){c('P2PLogger').log(k,babelHelpers['extends']({www_event_flow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_SEND},this.props.loggingData,l));},componentDidMount:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_SEND_MONEY_NUX_SHOWN);},handleNextClick:function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_SEND_MONEY_NUX_NEXT_CLICK);this.props.onNextClick();},_handleToggle:function(k){this.props.onToggle(k);},render:function(){var k=c('CurrentEnvironment').messengerdotcom?c('MessengerContextualDialog.react'):c('XUIContextualDialog.react');return (c('React').createElement(k,{alignment:this.props.flyoutAlignment,context:this.props.context,onBlur:function(){return this._handleToggle(false);}.bind(this),onToggle:this._handleToggle,position:this.props.position,shown:true,width:this.props.width},c('React').createElement('div',{className:"_56i7"},c('React').createElement('div',{className:"_56jc"},c('React').createElement(c('P2PSendMoneyNUXTitle.react'),null)),c('React').createElement('div',{className:"_56jd"},c('React').createElement(c('P2PSendMoneyNUXListItems.react'),null)),c('React').createElement(c('P2PNUXFooter.react'),{onNextClick:this.handleNextClick}))));}});f.exports=j;},null);